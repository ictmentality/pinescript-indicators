Phase 1 — Aligned‑TF capture (read‑only)

Add 30s (Micro) and 5s (Nano) aligned OHLC capture with request.security() into separate structs/tuples.
Don’t use them yet; just expose to Data Window and compare vs chart‑TF OHLC.
Goal: verify aligned OHLC is stable and matches expected bars.
Phase 2 — Aligned‑TF quarter aggregation (parallel path)

Build a parallel “AlignedQuarterRecord” (O/H/L/C + Ts) and update it using the aligned‑TF streams.
Keep chart‑TF quarter logic untouched.
Goal: confirm quarter boundaries and aligned OHLC aggregation are correct without changing outputs.
Phase 3 — Switch H/L/C to aligned (keep chart‑TF C if you want)

Replace quarter H/L (and optionally C) with aligned‑TF values only for Micro/Nano.
Keep Open on aligned TF (already done), and keep chart‑TF path for Daily/m90.
Goal: observe SSMT deltas without breaking other cycles.
Phase 4 — Optional: add “mode” switch

Add a config toggle: chartTF vs alignedTF for H/L/C.
Useful for A/B testing and regression checks.
Phase 5 — Tighten gap handling

If needed, add a buffer for aligned‑TF OHLC across gaps (similar to pending true‑open), then test on markets with session breaks.